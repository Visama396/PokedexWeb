---
import PokemonItem from "./PokemonItem.astro";
import { capitalize } from "../utils/capitalize"

const getPokemonId = (url) => url.split('/').at(-2)

const pokedex = await fetch(`https://pokeapi.co/api/v2/pokemon-species/`).then(response => response.json())
---

<section class="grid grid-cols-2 px-4 md:grid-cols-3 lg:grid-cols-5 gap-3">
  {
    pokedex.results.map(({ name, url }) => {
      return (
        <div>
          <PokemonItem id={name} title={capitalize(name)} img={`https://play.pokemonshowdown.com/sprites/ani/${name}.gif`} />
        </div>
      )
    })
  }
</section>