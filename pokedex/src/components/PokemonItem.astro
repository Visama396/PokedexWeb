---
export interface Props {
  id: string
  title: string
  img: string
}

const {id, title, img} = Astro.props

const data = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`).then(response => response.json()).catch(err => console.error("Pok√©mon not found. Cause: Name incorrect."))
---
<a class="grid justify-center transition-all rounded-lg w-full h-full hover:scale-105 hover:contrast-125 hover:shadow-2xl" style={`background-color: var(--${data.types[0].type.name}); box-shadow: 0px 0px 10px var(--${data.types[0].type.name})`} href={`/${id}`}>
  <picture class="w-full h-full">
    <img class="object-cover mx-auto" src={img} alt={id}>
  </picture>
  <h2 class="font-black text-center">{title}</h2>
</a>